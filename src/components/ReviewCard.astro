---
import Card from "./Card.astro";

interface Props {
    name: string;
    rating: number; // 1-5
    text: string;
    date?: string;
}
const { name, rating, text, date } = Astro.props;
---

<Card class="h-full flex flex-col justify-between">
    <div>
        <div class="flex text-accent mb-4 gap-1">
            {
                Array.from({ length: 5 }).map((_, i) => (
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="18"
                        height="18"
                        viewBox="0 0 24 24"
                        fill={i < rating ? "currentColor" : "none"}
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        class={i < rating ? "fill-current" : "text-gray-300"}
                    >
                        <polygon points="12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2" />
                    </svg>
                ))
            }
        </div>
        <p class="text-charcoal/80 mb-6 italic leading-relaxed">"{text}"</p>
    </div>
    <div class="border-t border-charcoal/10 pt-4 mt-auto">
        <p class="font-heading font-black uppercase text-sm">{name}</p>
        {
            date && (
                <p class="text-gray-400 text-xs uppercase font-bold tracking-wider mt-1">
                    {date}
                </p>
            )
        }
    </div>
</Card>
